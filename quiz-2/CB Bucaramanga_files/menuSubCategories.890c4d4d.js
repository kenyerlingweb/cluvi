(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["menuSubCategories"],{4183:function(e,t,i){},"7fbb":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mx-auto menu-category-scroll",attrs:{height:e.windowSize.y}},[i("v-card-title",{staticClass:"text-truncate text-center",domProps:{innerHTML:e._s(e.$t("common.categories_menu_label"))}}),i("v-list",{attrs:{shaped:"",dense:!(e.categories.length<=5)}},[i("v-list-item-group",{attrs:{"active-class":"list-item-border",color:"black",mandatory:""}},e._l(e.categories,(function(t){return i("v-list-item",{key:t.id,on:{click:function(i){return e.SetFilterByTop(t)}}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-truncate",attrs:{id:t.id},domProps:{textContent:e._s(t.category)}})],1)],1)})),1)],1)],1)},a=[],o=(i("d3b7"),i("25f0"),i("ac1f"),i("5319"),{name:"MenuCategoriesDesktop",props:{categories:Array,windowSize:Object},methods:{SetFilterByTop:function(e){this.show_details=!0,this.$store.state.shared.productsFilter=e.id,"all"===e.id.toString()?this.$router.replace({query:{}}):this.$router.replace({query:{category_id:e.id}})}}}),n=o,s=(i("a782"),i("2877")),c=i("6544"),u=i.n(c),d=i("b0af"),l=i("99d9"),m=i("8860"),g=i("da13"),p=i("5d23"),h=i("1baa"),_=Object(s["a"])(n,r,a,!1,null,"c8f82786",null);t["a"]=_.exports;u()(_,{VCard:d["a"],VCardTitle:l["d"],VList:m["a"],VListItem:g["a"],VListItemContent:p["b"],VListItemGroup:h["a"],VListItemTitle:p["d"]})},a782:function(e,t,i){"use strict";i("4183")},c7d2:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"menu-main-sub-categories-view"},[i("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:e.fab,expression:"fab"}],attrs:{color:"primary",fab:"",fixed:"",bottom:"",right:""},on:{click:function(t){return e.toTop()}}},[i("v-icon",[e._v("fa-light fa-chevron-up")])],1),!0===e.windowSize.is_movile?i("div",{staticClass:"mb-5",class:!0===e.fab&&"images"===e.instance.tipe_menu||!0===e.fab&&"accordion"===e.instance.tipe_menu&&!0===e.acordeon?"":"menu-sticky"},[i("menu-categories",{attrs:{tipe:e.instance.tipe_menu,categories:e.categories},on:{seeProducts:e.seeProducts}})],1):e._e(),!0===e.windowSize.is_movile?i("v-row",[i("v-col",{attrs:{cols:"12"}},e._l(e.CategoriesFilter,(function(t){return i("div",{directives:[{name:"show",rawName:"v-show",value:(t.products.length>0||1===t.id)&&("accordion"===e.instance.tipe_menu&&e.windowSize.x<980||"images"===e.instance.tipe_menu&&e.windowSize.x<980?e.ProductsMenu:!e.ProductsMenu),expression:"\n          (cat.products.length > 0 || cat.id === 1) &&\n            ((instance.tipe_menu === 'accordion' && windowSize.x < 980) ||\n            (instance.tipe_menu === 'images' && windowSize.x < 980)\n              ? ProductsMenu\n              : !ProductsMenu)\n        "}],key:t.id},["all"===e.$store.state.shared.productsFilter?i("span",{class:["title-category",null!==t.image_banner&&void 0!==t.image_banner?"cat_has_image":"cat_has_not_image"],attrs:{id:t.id}},[e._v(e._s(t.category))]):e._e(),null!==t.image_banner&&void 0!==t.image_banner?i("v-img",{staticClass:"mb-2",staticStyle:{width:"100%"},attrs:{src:t.image_banner.w_1200}}):e._e(),null!=t.description?i("small",[e._v(e._s(t.description))]):e._e(),1===t.id?i("menu-promos-y-combos"):e._e(),i("product-card",{staticClass:"mt-4",attrs:{cardView:"menu",products:t.products,numProductsBefore:t.numProductsBefore,categoryPosition:t.position,categoryId:t.id.toString()}})],1)})),0)],1):e._e(),!1===e.windowSize.is_movile?i("v-row",[i("v-col",{attrs:{md:"3",cols:"3"}},[i("menu-categories-desktop",{staticClass:"menu-fix-menu-left",attrs:{categories:e.categories,windowSize:e.windowSize}})],1),i("v-col",{attrs:{md:"9",cols:"9"}},e._l(e.CategoriesFilter,(function(t){return i("div",{directives:[{name:"show",rawName:"v-show",value:(t.products.length>0||1===t.id)&&("accordion"===e.instance.tipe_menu&&e.windowSize.x<980||"images"===e.instance.tipe_menu&&e.windowSize.x<980?e.ProductsMenu:!e.ProductsMenu),expression:"\n          (cat.products.length > 0 || cat.id === 1) &&\n            ((instance.tipe_menu === 'accordion' && windowSize.x < 980) ||\n            (instance.tipe_menu === 'images' && windowSize.x < 980)\n              ? ProductsMenu\n              : !ProductsMenu)\n        "}],key:t.id,staticClass:"ml-5"},[i("span",{class:["title-category",null!==t.image_banner&&void 0!==t.image_banner?"cat_has_image":"cat_has_not_image"],attrs:{id:t.id}},[e._v(" "+e._s(t.category)+" ")]),null!==t.image_banner&&void 0!==t.image_banner?i("v-img",{staticClass:"mb-5 ml-5",staticStyle:{width:"100%"},attrs:{src:t.image_banner.w_1200}}):e._e(),null!=t.description?i("small",[e._v(e._s(t.description))]):e._e(),1===t.id?i("menu-promos-y-combos",{staticClass:"mt-4 ml-5"}):e._e(),i("product-card",{staticClass:"mt-4 ml-5",attrs:{cardView:"menu",products:t.products,numProductsBefore:t.numProductsBefore,categoryPosition:t.position,categoryId:t.id.toString()}})],1)})),0)],1):e._e(),"delivery"!==e.service&&"take_away"!==e.service||null===e.purchaseId&&null===e.taPurchaseId?e._e():i("delivery-current-cart-bottom"),"on_table"===e.service&&(null!==e.otPurchaseId||"basic"===e.supplier.on_table_class&&e.supplier.has_cluvi_pay)?i("on-table-current-cart-bottom",{on:{emptyList:e.showDialog}}):e._e(),e.otdialog?i("ot-dialog",{attrs:{data:e.dialogData},on:{dismiss:function(t){e.otdialog=!1},gotomenu:function(t){e.otdialog=!1}}}):e._e()],1)},a=[],o=i("5530"),n=i("1da1"),s=(i("96cf"),i("d3b7"),i("3ca3"),i("ddb0"),i("b0c0"),i("4de4"),i("a434"),i("4847")),c=i("2f62"),u=i("6b06"),d=i("e71c"),l=i("7fbb"),m=function(){return i.e("otDialog").then(i.bind(null,"2a9d"))},g=function(){return i.e("onTableCurrentCartBottom").then(i.bind(null,"777f"))},p=function(){return i.e("deliveryCurrentCartBottom").then(i.bind(null,"c4a9"))},h=function(){return i.e("menuPromosYCombos").then(i.bind(null,"c2c2"))},_={name:"MenuSubCategories",beforeRouteLeave:function(e,t,i){null!==this.product_id&&void 0!==this.product_id&&this.product_id.length>0?(this.SetProductId(null),"MyOrder"===e.name||"DeliveryCartInProgress"===e.name?i():i(!1)):i()},components:{ProductCard:u["a"],MenuCategories:d["a"],MenuCategoriesDesktop:l["a"],MenuPromosYCombos:h,OnTableCurrentCartBottom:g,DeliveryCurrentCartBottom:p,OtDialog:m},data:function(){return{filterMessage:!1,fab:!1,ProductsMenu:!1,products:[],categories:[],acordeon:!1,otdialog:!1,dialogData:{title:"",message:"",btns:[]}}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.GetSupplier(e.$route.params.supplier_id);case 2:void 0!==e.$route.query.maincategory_id&&e.setMainCategory(e.$route.query.maincategory_id),e.getCategoriesProductsPromos(),e.SetAppClass(""),e.SetLoading(!0),e.TemplateActiveHeader({header_type:"maincategories"}),e.getMainCategory();case 9:case"end":return t.stop()}}),t)})))()},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["e"])("customer",["instance","supplier"])),Object(c["e"])("shared",["windowSize","mainCategoryId","openMenuTop","product_id","category_grid"])),Object(c["e"])("order",["service","subservice","purchaseId","taPurchaseId","otPurchaseId","otPurchaseId"])),{},{CategoriesFilter:function(){var e=this;return this.categories.filter((function(t){return t.id===e.$store.state.shared.productsFilter||"all"===e.$store.state.shared.productsFilter}))}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])("customer",["GetSupplier"])),Object(c["d"])("template",["SetLoading","TemplateActiveHeader","SetAppClass"])),Object(c["d"])("shared",["SetProductId","setMainCategory","SetCategoryGrid"])),{},{onScroll:function(e){if("undefined"!==typeof window){var t=window.pageYOffset||e.target.scrollTop||0;this.fab=t>20}},toTop:function(){this.$vuetify.goTo(0)},seeProducts:function(e){this.acordeon=!1===e,1===this.category_grid&&"accordion"===this.instance.tipe_menu&&(e=!!this.windowSize.is_movile,this.SetCategoryGrid(0)),this.ProductsMenu=e},getCategoriesProductsPromos:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getProducts(e.supplier.id,e.service);case 3:return i=t.sent,t.next=6,s["a"].getPromos(e.supplier.id,e.service);case 6:return r=t.sent,t.next=9,s["a"].getCategoriesByMain(e.mainCategoryId);case 9:a=t.sent,e.products=i.data.productos,e.promotions=r.data.promociones,a&&(e.categories=a.data.categorias,e.organizeMenu()),e.SetLoading(!1),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error(t.t0);case 20:case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},organizeMenu:function(){var e=this;1===this.categories.length&&this.SetCategoryGrid(1),1===this.category_grid&&"accordion"===this.instance.tipe_menu&&this.seeProducts(),this.categories.length>1&&"central-cevicheria"!==this.instance.slug&&this.categories.unshift({category:this.$t("all"),id:"all"}),setTimeout((function(){e.filterMessage=!1}),2500);for(var t=!1,i=0,r=function(t){var r=e.categories[t].id;e.categories[t].numProductsBefore=i,e.categories[t].position=t,e.categories[t].products=e.products.filter((function(e){return e.supplier_category_id===r})),null===e.categories[t].products&&(e.categories[t].products=[]),i+=e.categories[t].products.length},a=0;a<this.categories.length;a++)r(a);t||(this.$store.state.shared.productsFilter="all"),this.promotions.products&&this.promotions.products.length>0&&this.categories.splice(1,0,{category:this.promotions.category,id:this.promotions.id,products:this.promotions.products})},getMainCategory:function(){var e=this;s["a"].getMainCategory(this.mainCategoryId).then((function(t){e.TemplateActiveHeader({header_type:"maincategories",label:t.data.label})}))},showDialog:function(e){this.dialogData=Object(o["a"])(Object(o["a"])({},this.dialogData),e),this.otdialog=!0},gotoMenu:function(){this.$router.push({name:"Menu",params:{supplier_id:this.supplier.slug}})}}),metaInfo:function(){return{title:this.supplier.label,link:[{rel:"icon",href:this.instance.header.logo},{rel:"icon",href:this.instance.header.logo,type:"image/png",sizes:"32x32"}],meta:[{vmid:"description",name:"description",content:this.supplier.label}]}}},b=_,f=i("2877"),v=i("6544"),w=i.n(v),y=i("8336"),C=i("62ad"),S=i("a523"),P=i("132d"),M=i("adda"),x=i("0fd9"),O=i("269a"),I=i.n(O),j=i("f977"),z=Object(f["a"])(b,r,a,!1,null,null,null);t["default"]=z.exports;w()(z,{VBtn:y["a"],VCol:C["a"],VContainer:S["a"],VIcon:P["a"],VImg:M["a"],VRow:x["a"]}),I()(z,{Scroll:j["b"]})}}]);
//# sourceMappingURL=menuSubCategories.890c4d4d.js.map